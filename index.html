<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>d3.js</title>
    <script src="lib/d3/d3.min.js"></script>
    <style>
        #container rect{
            fill: steelblue;
        }
        text {
            fill: white;
            font: 10px sans-serif;
            text-anchor: end;
        }
    </style>
</head>
<body>
    <div id="container">

    </div>
</body>
</html>
<script>

    var barHeight = 20,
        width = 420
    var data = [3, 8, 16, 28, 30, 36];
    // console.log(d3)

    var svg = d3.select('#container').append('svg').attr('width',width)

    var scale_x = d3.scaleLinear().domain([0,d3.max(data)]).range([0,360])
    var bar = svg.selectAll('g').data(data).enter().append('g').attr('transform',function(d,i){ return 'translate(0,'+ i*barHeight +')'})

    bar.append('rect').attr('width',function(d){ return scale_x(d)}).attr('height',barHeight - 1)

    bar.append('text').text(function(d){ return scale_x(d) }).attr("x", function(d) { return scale_x(d) - 3; }).attr("y", barHeight / 2).attr("dy", ".35em")
    
</script>